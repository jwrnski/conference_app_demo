<!DOCTYPE html>
<html lang="en">
<div th:replace="~{fragments/header :: header}"></div>
<body class="flex flex-col min-h-screen">
<div th:replace="~{fragments/nav :: nav}"></div>

<main class="flex-grow">
    <div class="container mx-auto p-6">
        <h1 class="text-2xl font-bold mb-4" th:text="${conference.name}">Conference Name</h1>
        <p>
            Description: <span th:text="${conference.description}"></span>
        </p>
        <p>
            Start Date: <span th:text="${conference.startDate}"></span>
        </p>
        <p>
            End Date: <span th:text="${conference.endDate}"></span>
        </p>
        <p>
            City: <span th:text="${conference.city}"></span>
        </p>
        <p>
            Category: <span th:text="${conference.category}"></span>
        </p>
        <a href="/conferences" class="text-blue-500 hover:underline mt-10">Back to all conferences</a>

        // list of presentations

        <div class="mt-10 flex space-x-4">
            <!-- Edit Button -->
            <a th:href="@{/conferences/edit/{id}(id=${conference.id})}"
                style="background-color: dodgerblue; color: white; padding: 7px; border-radius: 5px;">
                Edit
            </a>

            <!-- Delete Button -->
            <form th:action="@{/conferences/{id}(id=${conference.id})}" method="post"
                  onsubmit="return confirm('Are you sure you want to delete this conference?');">
                <input type="hidden" name="_method" value="delete"/>
                <button type="submit"
                        style="background-color: red; color: white; padding: 7px; border-radius: 5px;">
                    Delete
                </button>
            </form>
            <a th:href="@{/presentations/create-presentation(conferenceId=${conference.id})}"
                style="background-color: darkorange; color: white; padding: 7px; border-radius: 5px;">
                Create Presentation
            </a>
            <a th:href="@{/submissions/submission-form(conferenceId=${conference.id})}"
               style="background-color: green; color: white; padding: 7px; border-radius: 5px;">
                Submit Paper
            </a>
            <a th:href="@{/schedules/create(conferenceId=${conference.id})}"
               style="background-color: green; color: white; padding: 7px; border-radius: 5px;">
                Create Schedule
            </a>

            <form th:action="@{/registrations}" method="post" th:if="${!isRegistered}">
                <input type="hidden" name="conferenceId" th:value="${conference.id}" />
                <input type="hidden" name="userId" th:value="${userId}" />
                <button type="submit"
                        style="background-color: green; color: white; padding: 7px; border-radius: 5px;">
                    Register
                </button>
            </form>

            <form th:action="@{/registrations}" method="post" th:if="${isRegistered}">
                <input type="hidden" name="_method" value="put"/>
                <input type="hidden" name="conferenceId" th:value="${conference.id}" />
                <input type="hidden" name="userId" th:value="${userId}" />
                <button type="submit"
                        style="background-color: red; color: white; padding: 7px; border-radius: 5px;">
                    Unregister
                </button>
            </form>

            <!--<form th:action="@{/registrations}" method="post">
                <input type="hidden" name="conferenceId" th:value="${conference.id}" />
                <input type="hidden" name="userId" th:value="${#authentication.principal.id}" />
                <button type="submit"
                        style="background-color: green; color: white; padding: 7px; border-radius: 5px;">
                    Register
                </button>

            </form>-->
        </div>

    </div>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>